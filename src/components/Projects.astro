---
import { getCollection } from 'astro:content';
import { GithubIcon } from '../assets/Icons';

const proyects = await getCollection('proyects');
---

<section class="px-4 md:px-6 lg:px-8" id="projects">
  <div class="w-full grid grid-cols-12 gap-4">
    <div
      class="col-span-12 flex flex-col lg:flex-row justify-between items-start lg:items-end gap-6 md:gap-0 mb-8"
    >
      <div class="max-w-[600px]">
        <h2 class="text-3xl font-bold mb-4">Projects</h2>
        <p class="text-lg md:text-xl">
          As a seasoned creator of contemporary, user-friendly web designs and digital solutions, I
          aim to assist you in constructing the brand of your fantasies.
        </p>
      </div>
      <div class="lg:mt-20">
        <a
          class="text-lg md:text-xl font-bold underline hover:text-gray-500 transition ease-in-out duration-300"
          href="#">See All Projects</a
        >
      </div>
    </div>
    {
      proyects.map(proyect => (
        <div class="col-span-full md:col-span-6 auto-rows-auto rounded-3xl flex flex-col bg-purple-500">
          <a href="/">
            <article class="overflow-hidden group w-full flex flex-col items-center">
              <div class="absolute mx-2 my-2 z-40 max-w-[270px] md:max-w-[370px] bg-zinc-950 rounded-3xl px-8 py-4 flex flex-col items-start justify-center opacity-0 group-hover:opacity-100 ease-in-out duration-300">
                <div class="flex items-end justify-center">
                  <h1 class="text-2xl text-white">{proyect.data.title}</h1>
                  <a
                    class="size-10  flex items-center justify-center font-bold text-white hover:text-purple-400 transition ease-in-out duration-100"
                    target="_blank"
                    href={proyect.data.githubLink}
                  >
                    <GithubIcon />
                  </a>
                </div>
                <div class="mt-3 flex items-start justify-start text-white">
                  <p class="text-white/75">{proyect.data.description}</p>
                </div>
              </div>
              <img
                src={proyect.data.image}
                class="w-full h-auto object-cover group hover:scale-110 transition ease-in-out duration-300"
                alt=""
              />
            </article>
          </a>
        </div>
      ))
    }
  </div>
</section>
